<!--
SPDX-FileCopyrightText: 2019-2020 Intel Corporation

SPDX-License-Identifier: MIT
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Storage Formats &mdash; oneAPI Specification 1.0 rev 1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../../../../_static/favicons.png"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../_static/jquery.js"></script>
        <script src="../../../../../../_static/underscore.js"></script>
        <script src="../../../../../../_static/doctools.js"></script>
        <script src="../../../../../../_static/language_data.js"></script>
        <script src="../../../../../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <link rel="next" title="INPUT_STRIDES and OUTPUT_STRIDES" href="strides.html" />
    <link rel="prev" title="Number of Transforms" href="number_of_transforms.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneAPI Specification
          

          
            
            <img src="../../../../../../_static/oneAPI-rgb-rev-100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0 rev 1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../library-interop.html">Library Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../elements.html">oneAPI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../dpcpp/source/index.html">DPC++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../oneDPL/source/index.html">oneDPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../oneDNN/source/index.html">oneDNN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../oneCCL/source/index.html">oneCCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../oneDAL/source/index.html">oneDAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../oneTBB/source/nested-index.html">oneTBB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../oneVPL/source/index.html">oneVPL</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">oneMKL</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/architecture.html">oneMKL Architecture</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../domains.html">oneMKL Domains</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../domains.html#dense-linear-algebra">Dense Linear Algebra</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../domains.html#sparse-linear-algebra">Sparse Linear Algebra</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../domains.html#discrete-fourier-transforms">Discrete Fourier Transforms</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../dft.html">Discrete Fourier Transform Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../domains.html#random-number-generators">Random Number Generators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../domains.html#summary-statistics">Summary Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../domains.html#vector-math">Vector Math</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../appendix/appendix.html">oneMKL Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../versions.html">HTML and PDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">oneAPI Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          <!--
SPDX-FileCopyrightText: 2019-2020 Intel Corporation

SPDX-License-Identifier: MIT
-->

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../../index.html">oneAPI Specification</a> &raquo;</li>
        
          
          <li><a href="../../../index.html">oneMKL</a> </li>
          
        
          
        
          
        
          
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oneapi-src/oneapi-spec/blob/master/source/elements/oneMKL/source/domains/dft/config_params/storage_formats.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="storage-formats">
<span id="onemkl-dft-config-storage-formats"></span><h1>Storage Formats<a class="headerlink" href="#storage-formats" title="Permalink to this headline">¶</a></h1>
<p>Depending on the value of the <a class="reference internal" href="../enums_and_config_params.html#onemkl-dft-enum-domain"><span class="std std-ref">domain</span></a> template value, the implementation of the DFT supports several storage schemes for input and output data. (See <code class="docutils literal notranslate"><span class="pre">Charles</span> <span class="pre">Van</span> <span class="pre">Loan,</span> <span class="pre">Computational</span> <span class="pre">Frameworks</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Fast</span> <span class="pre">Fourier</span> <span class="pre">Transform</span> <span class="pre">,</span> <span class="pre">SIAM,</span> <span class="pre">Philadelphia,</span> <span class="pre">1992</span></code> for motivation of these schemes).</p>
<p>The data elements are placed within contiguous memory blocks, defined with generalized strides (see <a class="reference internal" href="strides.html#onemkl-dft-config-strides"><span class="std std-ref">INPUT_STRIDES and OUTPUT_STRIDES</span></a>). For multiple transforms, all sets of data should be located within the same memory block, and the data sets should be placed at the same distance from each other (see <a class="reference internal" href="number_of_transforms.html#onemkl-dft-config-number-of-transforms"><span class="std std-ref">NUMBER_OF TRANSFORMS</span></a> and <code class="docutils literal notranslate"><span class="pre">:config_param::FWD_DISTANCE</span></code>, <code class="docutils literal notranslate"><span class="pre">config_param::BWD_DISTANCE</span></code> ).</p>
<p>The input data and strides sizes are stored and offsets counted in terms of elements of the data type (complex or real) based on the storage format and <a class="reference internal" href="../enums_and_config_params.html#onemkl-dft-enum-domain"><span class="std std-ref">forward domain</span></a> as seen in <a class="reference internal" href="strides.html#onemkl-dft-config-data-element-types-complex"><span class="std std-ref">Element types for complex-to-complex transformation and COMPLEX_STORAGE</span></a>, <a class="reference internal" href="strides.html#onemkl-dft-config-data-element-types-real"><span class="std std-ref">Element types for real-to-complex transformations and REAL_STORAGE</span></a> and <a class="reference internal" href="strides.html#onemkl-dft-config-data-element-types-conjugate-even"><span class="std std-ref">Element types for real-to-complex transformations and CONJUGATE_EVEN_STORAGE</span></a>.</p>
<div class="section" id="complex-storage">
<span id="onemkl-dft-complex-storage"></span><h2>COMPLEX_STORAGE<a class="headerlink" href="#complex-storage" title="Permalink to this headline">¶</a></h2>
<p>For the <a class="reference internal" href="../enums_and_config_params.html#onemkl-dft-enum-domain"><span class="std std-ref">domain</span></a> template parameter with value <code class="docutils literal notranslate"><span class="pre">COMPLEX</span></code>, both input and output sequences belong to the complex domain. In this case, the configuration parameter COMPLEX_STORAGE can have one of the two values:<code class="docutils literal notranslate"><span class="pre">COMPLEX_COMPLEX</span></code> (default) or <code class="docutils literal notranslate"><span class="pre">REAL_REAL</span></code> .</p>
<p class="rubric" id="onemkl-dft-complex-storage-complex-complex">COMPLEX_COMPLEX</p>
<p>With the <code class="docutils literal notranslate"><span class="pre">config_value::COMPLEX_COMPLEX</span></code> storage, complex-valued data sequences are stored in a single complex container (array/<code class="docutils literal notranslate"><span class="pre">sycl::buffer</span></code>), AZ, so that a complex-valued element <span class="math notranslate nohighlight">\(z_{k_1, k_2,\dots ,k_d}\)</span> of the m-th d-dimensional sequence is accessed at <span class="math notranslate nohighlight">\(AZ[m*\text{distance} + \text{stride}_0 + k_1*\text{stride}_1 + k_2*\text{stride}_2 + \dots + k_d *\text{stride}_d ]\)</span> as a structure consisting of the real and imaginary parts. This code illustrates the use of <code class="docutils literal notranslate"><span class="pre">config_value::COMPLEX_COMPLEX</span></code> storage with three dimensions (<span class="math notranslate nohighlight">\(n_1,n_2,n_3\)</span>) and m batches:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">complex</span><span class="o">&lt;</span><span class="n">datatype</span><span class="o">&gt;</span> <span class="o">*</span> <span class="n">AZ</span><span class="p">;</span> <span class="c1">// 2*sizeof(datatype)*n1*n2*n3*m</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span><span class="o">&gt;</span> <span class="n">ios</span><span class="p">;</span> <span class="c1">// length 4 of sizes</span>
<span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span> <span class="n">iodist</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="c1">// on input: Z(k1,k2,k3,m)</span>
<span class="c1">//   = AZ[ ios[0] + k1*ios[1] + k2*ios[2] + k3*ios[3] + m*iodist ]</span>
<span class="n">compute_forward</span><span class="p">(</span><span class="n">descr</span><span class="p">,</span> <span class="n">AZ</span><span class="p">);</span> <span class="c1">// complex-to-complex in-place FFT</span>
<span class="c1">// on output: Z{k1,k2,k3,m}</span>
<span class="c1">//   = AZ[ ios[0] + k1*ios[1] + k2*ios[2] + k3*ios[3] + m*iodist ]</span>
</pre></div>
</div>
<p class="rubric" id="onemkl-dft-complex-storage-real-real">REAL_REAL</p>
<p>With the <code class="docutils literal notranslate"><span class="pre">config_value::REAL_REAL</span></code> storage, complex-valued data sequences are stored by two real containers (arrays/<code class="docutils literal notranslate"><span class="pre">sycl::buffer</span></code>’s), AR and AI, so that a complex-valued element <span class="math notranslate nohighlight">\(z_{k_1, k_2, \dots, k_d}\)</span> of the m-th d-dimensional sequence has real part <span class="math notranslate nohighlight">\(AR[m*\text{distance} + \text{stride}_0 + k_1*\text{stride}_1 + k_2*\text{stride}_2 + \dots + k_d*\text{stride}_d ]\)</span> and imaginary part <span class="math notranslate nohighlight">\(AI[m*\text{distance} + \text{stride}_0 + k_1*\text{stride}_1 + k_2*\text{stride}_2 + \dots + k_d*\text{stride}_d ]\)</span>. This code illustrates the use of <code class="docutils literal notranslate"><span class="pre">config_value::REAL_REAL</span></code> storage with three dimensions (<span class="math notranslate nohighlight">\(n_1,n_2,n_3\)</span>) and m batches:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">datatype</span> <span class="o">*</span> <span class="n">AR</span><span class="p">;</span> <span class="c1">// sizeof(datatype)*n1*n2*n3*m</span>
<span class="n">datatype</span> <span class="o">*</span> <span class="n">AI</span><span class="p">;</span> <span class="c1">// sizeof(datatype)*n1*n2*n3*m</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span><span class="o">&gt;</span> <span class="n">ios</span><span class="p">;</span> <span class="c1">// length 4 of strides</span>
<span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span> <span class="n">iodist</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="c1">// on input: Z(k1,k2,k3,m)</span>
<span class="c1">//   =   AR[ ios[0] + k1*ios[1] + k2*ios[2] + k3*ios[3] + m*iodist ]</span>
<span class="c1">//   + i*AI[ ios[0] + k1*ios[1] + k2*ios[2] + k3*ios[3] + m*iodist ]</span>
<span class="n">compute_forward</span><span class="p">(</span><span class="n">descr</span><span class="p">,</span> <span class="n">AR</span><span class="p">,</span> <span class="n">AI</span><span class="p">);</span> <span class="c1">// complex-to-complex in-place FFT</span>
<span class="c1">// on output: Z{k1,k2,k3,m}</span>
<span class="c1">//   =   AR[ ios[0] + k1*ios[1] + k2*ios[2] + k3*ios[3] + m*iodist ]</span>
<span class="c1">//   + i*AI[ ios[0] + k1*ios[1] + k2*ios[2] + k3*ios[3] + m*iodist ]</span>
</pre></div>
</div>
</div>
<div class="section" id="real-storage">
<span id="onemkl-dft-real-storage"></span><h2>REAL_STORAGE<a class="headerlink" href="#real-storage" title="Permalink to this headline">¶</a></h2>
<p>For the <a class="reference internal" href="../enums_and_config_params.html#onemkl-dft-enum-domain"><span class="std std-ref">domain</span></a> template parameter with value <code class="docutils literal notranslate"><span class="pre">REAL</span></code>, only the value of <code class="docutils literal notranslate"><span class="pre">REAL_REAL</span></code> is supported.</p>
<p class="rubric" id="onemkl-dft-real-storage-real-real">REAL_REAL</p>
<p>With the <code class="docutils literal notranslate"><span class="pre">REAL_REAL</span></code> storage, real-valued data sequences in a real domain are stored by one real container (array/<code class="docutils literal notranslate"><span class="pre">sycl::buffer</span></code>), AR, so that a real-valued element <span class="math notranslate nohighlight">\(r_{k_1, k_2, \dots, k_d}\)</span> of the m-th d-dimensional sequence is accessed as <span class="math notranslate nohighlight">\(AR[m*\text{distance} + \text{stride}_0 + k_1*\text{stride}_1 + k_2*\text{stride}_2 + \dots + k_d*\text{stride}_d ]\)</span>. This code illustrates the use of <code class="docutils literal notranslate"><span class="pre">config_value::REAL_REAL</span></code> storage with three dimensions (<span class="math notranslate nohighlight">\(n_1,n_2,n_3\)</span>) and m batches:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">datatype</span> <span class="o">*</span> <span class="n">AR</span><span class="p">;</span> <span class="c1">// sizeof(datatype)*n1*n2*n3*m</span>
<span class="n">datatype</span> <span class="o">*</span> <span class="n">AI</span><span class="p">;</span> <span class="c1">// sizeof(datatype)*n1*n2*n3*m</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span><span class="o">&gt;</span> <span class="n">ios</span><span class="p">;</span> <span class="c1">// length 4 of strides</span>
<span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span> <span class="n">iodist</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="c1">// on input: R(k1,k2,k3,m)</span>
<span class="c1">//   =   AR[ ios[0] + k1*ios[1] + k2*ios[2] + k3*ios[3] + m*iodist ]</span>
<span class="n">compute_forward</span><span class="p">(</span><span class="n">descr</span><span class="p">,</span> <span class="n">AR</span><span class="p">,</span> <span class="n">AI</span><span class="p">);</span> <span class="c1">// real-to-complex in-place FFT</span>
<span class="c1">// on output: Z{k1,k2,k3,m}</span>
<span class="c1">//   =   AR[ ios[0] + k1*ios[1] + k2*ios[2] + k3*ios[3] + m*iodist ]</span>
<span class="c1">//   + i*AI[ ios[0] + k1*ios[1] + k2*ios[2] + k3*ios[3] + m*iodist ]</span>
</pre></div>
</div>
</div>
<div class="section" id="conjugate-even-storage">
<span id="onemkl-dft-conjugate-even-storage"></span><h2>CONJUGATE_EVEN_STORAGE<a class="headerlink" href="#conjugate-even-storage" title="Permalink to this headline">¶</a></h2>
<p>For the <a class="reference internal" href="../enums_and_config_params.html#onemkl-dft-enum-domain"><span class="std std-ref">domain</span></a> template parameter with value <code class="docutils literal notranslate"><span class="pre">REAL</span></code> and considered as a conjugate-even domain, the value of <code class="docutils literal notranslate"><span class="pre">config_value::COMPLEX_COMPLEX</span></code> is supported. The conjugate-even symmetry of the data enables storing only about a half of the whole mathematical result, so that one part of it can be directly referenced in the memory while the other part can be reconstructed depending on the selected storage configuration. The <code class="docutils literal notranslate"><span class="pre">config_param::PACKED_FORMAT</span></code> configuration parameter defines how the data is packed.  Possible values for <code class="docutils literal notranslate"><span class="pre">config_param::PACKED_FORMAT</span></code> depend on the values of the <code class="docutils literal notranslate"><span class="pre">config_param::CONJUGATE_EVEN_STORAGE</span></code> configuration parameter.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>CONJUGATE_EVEN_STORAGE</p></th>
<th class="head"><p>Supported PACKED_FORMATS</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#onemkl-dft-conjugate-even-storage-complex-complex"><span class="std std-ref">COMPLEX_COMPLEX</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">config_value::CCE_FORMAT</span></code> can be used with transforms of any dimension.</p></td>
</tr>
</tbody>
</table>
<p class="rubric" id="onemkl-dft-conjugate-even-storage-complex-complex">COMPLEX_COMPLEX</p>
<p>There is only one <code class="docutils literal notranslate"><span class="pre">config_param::PACKED_FORMAT</span></code> supported by the <code class="docutils literal notranslate"><span class="pre">config_value::COMPLEX_COMPLEX</span></code> value for <code class="docutils literal notranslate"><span class="pre">config_param::CONJUGATE_EVEN_STORAGE</span></code>, mainly the <code class="docutils literal notranslate"><span class="pre">config_value::CCE_FORMAT</span></code>.  The complex-valued data sequence consists of one complex container (array/<code class="docutils literal notranslate"><span class="pre">sycl::buffer</span></code>), AZ, so that a complex-valued element <span class="math notranslate nohighlight">\(z_{k_1, k_2, \dots, k_d}\)</span> of the m-th d-dimensional sequence can be accessed or reconstructed as follows:</p>
<p>Consider a d-dimensional real-to-complex transform.</p>
<p>Because the input sequence, R, is real-valued, the mathematical result, Z, has conjugate-even symmetry:
<span class="math notranslate nohighlight">\(z_{k_1, k_2, \dots, k_d} = \text{conjugate}( z_{n_1-k_1, n_2-k_2, \dots, n_d-k_d} )\)</span>,
where index arithmetic is performed modulo the length of the respective dimension. Obviously, the first element of the result is real-valued:
<span class="math notranslate nohighlight">\(z_{0, 0, \dots, 0} = \text{conjugate}( z_{0, 0, \dots, 0} )\)</span>.</p>
<p>For dimensions with even lengths, some of the other elements are real-valued as well. For example, if <span class="math notranslate nohighlight">\(n_s\)</span> is even, then
<span class="math notranslate nohighlight">\(z_{0, 0, \dots, \frac{n_s}{2}, 0, \dots, 0} = \text{conjugate}( z_{0, 0, \dots, \frac{n_s}{2}, 0, \dots, 0} )\)</span>.
With the conjugate-even symmetry, approximately a half of the result suffices to fully reconstruct it. For an arbitrary dimension, <span class="math notranslate nohighlight">\(h\)</span> , it suffices to store elements <span class="math notranslate nohighlight">\(z_{k_1, \dots, k_h , \dots, k_d}\)</span> for the following indices:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(k_h = 0, \dots, \left[ \frac{n_h}{2}\right]\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(k_i = 0, \dots, n_i-1\)</span>, where <span class="math notranslate nohighlight">\(i = 1,\dots, d\)</span> and <span class="math notranslate nohighlight">\(i \neq h\)</span></p></li>
</ul>
<p>and assuming that integer division rounds down.</p>
<p>The symmetry property enables reconstructing the remaining elements: for <span class="math notranslate nohighlight">\(k_h = \left[ \frac{n_h}{2}\right] + 1, \dots , n_h - 1\)</span>. The halved dimension is always assumed to be the dimension for which storage is contiguous in memory (see strides), for example in a 2D row-major format, it is the last dimension and for 2D column-major format it is the first dimension.</p>
<p class="rubric" id="onemkl-dft-complex-complex-cce-1d-even-or-odd">Packed complex domain formats for a 1D real-to-complex transformation considered as a conjugate-even-domain with <a class="reference internal" href="#onemkl-dft-conjugate-even-storage-complex-complex"><span class="std std-ref">COMPLEX_COMPLEX</span></a> storage and <span class="math notranslate nohighlight">\(n=2L\)</span> (even size) or <span class="math notranslate nohighlight">\(n=2L+1\)</span> (odd size).</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(k=\)</span></p></th>
<th class="head"><p>0</p></th>
<th class="head"><p>1</p></th>
<th class="head"><p>2</p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(\dots\)</span></p></th>
<th class="head"><p>L-2</p></th>
<th class="head"><p>L-1</p></th>
<th class="head"><p>L</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CCE</p></td>
<td><p><span class="math notranslate nohighlight">\(Z_0\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_1\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_2\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{L-2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{L-1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{L}\)</span></p></td>
</tr>
</tbody>
</table>
<p class="rubric" id="onemkl-dft-complex-complex-cce-2d-even-even">Packed complex domain formats for a 2D <span class="math notranslate nohighlight">\(n_1\times n_2\)</span> real-to-complex transformations considered as a conjugate-even-domain with <a class="reference internal" href="#onemkl-dft-conjugate-even-storage-complex-complex"><span class="std std-ref">COMPLEX_COMPLEX</span></a> storage and <span class="math notranslate nohighlight">\(n_1=2K\)</span> (even size) and <span class="math notranslate nohighlight">\(n_2=2L\)</span> (even size) using row-major input data.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p><span class="math notranslate nohighlight">\(k_1\backslash k_2\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(0\)</span></p></th>
<th class="head"><p>1</p></th>
<th class="head"><p>2</p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(\dots\)</span></p></th>
<th class="head"><p>L-1</p></th>
<th class="head"><p>L</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p><span class="math notranslate nohighlight">\(0\)</span></p></th>
<td><p><span class="math notranslate nohighlight">\(Z_{0,0}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{0,1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{0,2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{0,L-1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{0,L}\)</span></p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>1</p></th>
<td><p><span class="math notranslate nohighlight">\(Z_{1,0}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{1,1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{1,2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{1,L-1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{1,L}\)</span></p></td>
</tr>
<tr class="row-even"><th class="stub"><p>2</p></th>
<td><p><span class="math notranslate nohighlight">\(Z_{2,0}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{2,1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{2,2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{2,L-1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{2,L}\)</span></p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><span class="math notranslate nohighlight">\(\dots\)</span></p></th>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
</tr>
<tr class="row-even"><th class="stub"><p><span class="math notranslate nohighlight">\(n_1-2\)</span></p></th>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-2,0}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-2,1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-2,2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-2,L-1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-2,L}\)</span></p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><span class="math notranslate nohighlight">\(n_1-1\)</span></p></th>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-1,0}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-1,1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-1,2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\dots\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-1,L-1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_{n_1-1,L}\)</span></p></td>
</tr>
</tbody>
</table>
<p>The following code illustrates usage of the <code class="docutils literal notranslate"><span class="pre">config_value::COMPLEX_COMPLEX</span></code> storage for a two-dimensional conjugate-even domain with row-major input data:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">datatype</span> <span class="o">*</span> <span class="n">AR</span><span class="p">;</span>                <span class="c1">// sizeof(datatype)*n1*n2*m</span>
<span class="n">std</span><span class="o">::</span><span class="n">complex</span><span class="o">&lt;</span><span class="n">datatype</span><span class="o">&gt;</span> <span class="o">*</span> <span class="n">AZ</span><span class="p">;</span>  <span class="c1">// sizeof(datatype)*n1*n2*m</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span><span class="o">&gt;</span> <span class="n">is</span><span class="p">;</span> <span class="c1">// length 3 of input strides</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span><span class="o">&gt;</span> <span class="n">os</span><span class="p">;</span> <span class="c1">// length 3 of output strides</span>
<span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span> <span class="n">idist</span><span class="p">,</span> <span class="n">odist</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="c1">// on input: R(k1,k2,m)</span>
<span class="c1">//   =   AR[ is[0] + k1*is[1] + k2*is[2] + m*idist ]</span>
<span class="n">compute_forward</span><span class="p">(</span><span class="n">descr</span><span class="p">,</span> <span class="n">AR</span><span class="p">,</span> <span class="n">AZ</span><span class="p">);</span> <span class="c1">// real-to-complex out-of-place FFT</span>
<span class="c1">// on output:</span>
<span class="c1">// for k2=0,n2/2:      Z{k1,k2,m} = AZ[os[0] + k1*os[1] + k2*os[2] + m*odist]</span>
<span class="c1">// for k2=n2/2+1,n2-1: Z{k1,k2,m} = conj(AZ[os[0] + (n1-k1)%n1*os[1]</span>
<span class="c1">//                                                + (n2-k2)%n2*os[2] + m*odist])</span>
</pre></div>
</div>
<p>For the backward transform, the input and output parameters and layouts exchange roles.  Set the strides describing the layout in the backward/forward domain as input/output strides, respectively. For example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// ...</span>
<span class="n">descr</span><span class="p">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">config_param</span><span class="o">::</span><span class="n">INPUT_STRIDES</span><span class="p">,</span>  <span class="n">fwd_domain_strides</span><span class="p">);</span>
<span class="n">descr</span><span class="p">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">config_param</span><span class="o">::</span><span class="n">OUTPUT_STRIDES</span><span class="p">,</span> <span class="n">bwd_domain_strides</span><span class="p">);</span>
<span class="n">descr</span><span class="p">.</span><span class="n">commit</span><span class="p">(</span><span class="n">queue</span><span class="p">);</span>
<span class="n">compute_forward</span><span class="p">(</span><span class="n">descr</span><span class="p">,</span> <span class="p">...);</span>
<span class="c1">// ...</span>
<span class="n">descr</span><span class="p">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">config_param</span><span class="o">::</span><span class="n">INPUT_STRIDES</span><span class="p">,</span>  <span class="n">bwd_domain_strides</span><span class="p">);</span>
<span class="n">descr</span><span class="p">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">config_param</span><span class="o">::</span><span class="n">OUTPUT_STRIDES</span><span class="p">,</span> <span class="n">fwd_domain_strides</span><span class="p">);</span>
<span class="n">descr</span><span class="p">.</span><span class="n">commit</span><span class="p">(</span><span class="n">queue</span><span class="p">);</span>
<span class="n">compute_backward</span><span class="p">(</span><span class="n">descr</span><span class="p">,</span> <span class="p">...);</span>
</pre></div>
</div>
<p><strong>Parent topic</strong> <a class="reference internal" href="../enums_and_config_params.html#onemkl-dft-enums"><span class="std std-ref">Configuration Parameters and Enums</span></a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="strides.html" class="btn btn-neutral float-right" title="INPUT_STRIDES and OUTPUT_STRIDES" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="number_of_transforms.html" class="btn btn-neutral float-left" title="Number of Transforms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Intel Corporation

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>